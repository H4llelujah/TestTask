(()=>{"use strict";class t{constructor(t,e,o=""){this.observer=t,this.title=e,this.text=o,this.popup=document.querySelector(".popup"),t&&(this.observer=t),this.popup.addEventListener("click",this.hide.bind(this))}observe(){this.observer.addEventListener("click",this.show.bind(this))}show(){this.popup.classList.add("popup__active"),this.popup.innerHTML=`\n            <div class="popup__content">\n                <h3 class="popup__title">${this.title}</h3>\n                <div class="popup_text">${this.text}</div>\n            </div>`,document.querySelector(".popup__content").addEventListener("click",(t=>{t.stopPropagation()}))}hide(){this.popup.classList.remove("popup__active")}}const e=/^[a-zA-Z'][a-zA-Z-' ]+[a-zA-Z']?$/,o=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;function s(s,n){s.preventDefault();const i={};for(let t=0;t<n.length;t++){const e=n[t];i[e.id]=e.value}(function(s){let n=!0;const i=s,c=[];e.test(i.username)||(c.push("Имя должно содержать только буквы!"),n=!1),o.test(i.email)||(c.push("Почта должна быть вида mymail@domain.com"),n=!1),n?new t(null,"Your message successfully sent!").show():new t(null,c.join("<br>")).show();return n})(i)&&(!function(t,e){const o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch(t,o).then((t=>t.json())).catch((t=>{throw console.error("Ошибка при выполнении запроса:",t),t}))}("https://jsonplaceholder.typicode.com/users",i),n.forEach((t=>{t.value=""})))}const n=document.querySelector(".feedback__button"),i=document.querySelector(".modal"),c=document.querySelector(".modal__content"),r=document.querySelector(".form"),p=r.querySelectorAll("input, textarea");function a(){i.classList.toggle("modal-active")}n.addEventListener("click",a),c.addEventListener("click",(t=>{t.stopPropagation()})),i.addEventListener("click",a),r.addEventListener("submit",(t=>{s(t,p)}))})();